import ecdsa
import hashlib
from ecdsa.util import sigencode_der, sigdecode_strings
import codecs
message = b"165ca32c12929b17dd134b63bced86cc72c2a6ea0980303130524634473e6ea422ddf433be3345791e4c7869ffe529550ee784b51bbe120339ec876a33497a228e61926b9c97380302555636d88e6c8592715ede87122121000000asdfasdfbTKDbw1288AysqBC9PYsz5jUM8PzAMfWWYYQzD6uPRiaVegESWLTk7GKqVyna5V8TEkXbTK9mnwWur7c1K2J1Nb9j3Z6fiBPS2rFTzCWTrXPmRcZsH6K8P9kFrWFjFJrDXKLS4Xc"
public_key = '5ca32c12929b17dd134b63bced86cc72c2a6ea0980303130524634473e6ea422ddf433be3345791e4c7869ffe529550ee784b51bbe120339ec876a33497a228e'
sig = '8e5f23fae22803c7fa489781868302f02c3c1eac6e519cae2ee88233665ec1d66c598b6826b4e1f6fab3f5996f46e9fb0319bfe50d0feb58ee01465ae674947f'

vk = ecdsa.VerifyingKey.from_string(bytearray.fromhex(public_key), curve=ecdsa.SECP256k1) # the default is sha1
print(vk.verify(bytes.fromhex(sig), message,hashlib.sha256)) # True